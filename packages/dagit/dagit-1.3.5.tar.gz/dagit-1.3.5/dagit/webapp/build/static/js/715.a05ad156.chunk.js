"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[715],{97734:function(e,n,t){t.d(n,{a:function(){return a}});var i=t(96234),r=t(78193),o=function(e,n){var t=new Set(Array.from(e.checkedIds));switch(n.type){case"toggle-one":var r=n.payload,o=r.checked,s=r.id;return o?t.add(s):t.delete(s),{lastCheckedId:s,checkedIds:t};case"toggle-slice":var a=n.payload,c=a.checked,l=a.id,d=a.allIds,u=e.lastCheckedId,h=u?d.indexOf(u):-1,p=d.indexOf(l);if(-1===h||-1===p)return e;for(var x=[h,p].sort(),m=(0,i.Z)(x,2),f=m[0],g=m[1],j=f;j<=g;j++)c?t.add(d[j]):t.delete(d[j]);return{lastCheckedId:l,checkedIds:t};case"toggle-all":var v=n.payload,y=v.checked,k=v.allIds;return{lastCheckedId:null,checkedIds:y?new Set(k):new Set}}},s={checkedIds:new Set,lastCheckedId:null};function a(e){var n=r.useReducer(o,s),t=(0,i.Z)(n,2),a=t[0],c=t[1];return[a,{onToggleFactory:function(n){return function(t){var i=t.checked;t.shiftKey&&a.lastCheckedId?c({type:"toggle-slice",payload:{checked:i,id:n,allIds:e}}):c({type:"toggle-one",payload:{checked:i,id:n}})}},onToggleAll:function(n){c({type:"toggle-all",payload:{checked:n,allIds:e}})}}]}},79234:function(e,n,t){t.d(n,{K:function(){return $},m:function(){return W}});var i,r=t(71171),o=t(56666),s=t(32723),a=t(34795),c=t(33028),l=t(96234),d=t(60319),u=t(15541),h=t(44719),p=t(31623),x=t(45519),m=t(73070),f=t(85357),g=t(47515),j=t(44229),v=t(58507),y=t(3077),k=t(9886),C=t(32667),w=t(78193),b=t(50032),N=t(33418),Z=t(82182),I=t(35740),R=t(22260),T=t(23555),P=t(8686),S=t(85279),_=t(79986),O=t(92761),E=t(80500),z=t(63167),A=t(9089),L=t(80018),M=t(4537),D=t(83473),F=t(49675),H=t(89622),J=t(35936),K=function(e){if("LaunchRunSuccess"===(null===e||void 0===e?void 0:e.launchPipelineReexecution.__typename))throw new Error("Not an error!");return null===e||void 0===e?void 0:e.launchPipelineReexecution},B=function(e){if(!e)return"Unknown error";switch(e.__typename){case"ConflictingExecutionParamsError":return"Conflicting execution parameters";case"InvalidOutputError":return"Invalid output";case"InvalidStepError":return"Invalid step";case"NoModeProvidedError":return"No mode provided";case"PipelineNotFoundError":return"Job not found in workspace";case"PresetNotFoundError":return"Preset not found";case"PythonError":return e.message;case"RunConfigValidationInvalid":return"Run config invalid";case"RunConflict":return"Run conflict";case"UnauthorizedError":return"Re-execution not authorized";case"InvalidSubsetError":return"Invalid op subset: "+e.message;default:return"Unknown error"}},q=function(e){return{frozenRuns:e,step:"initial",reexecution:{completed:0,errors:{}}}},U=function(e,n){switch(n.type){case"reset":return q(n.frozenRuns);case"start":return(0,c.Z)((0,c.Z)({},e),{},{step:"reexecuting"});case"reexecution-success":var t=e.reexecution;return(0,c.Z)((0,c.Z)({},e),{},{step:"reexecuting",reexecution:(0,c.Z)((0,c.Z)({},t),{},{completed:t.completed+1})});case"reexecution-error":var i=e.reexecution;return(0,c.Z)((0,c.Z)({},e),{},{step:"reexecuting",reexecution:(0,c.Z)((0,c.Z)({},i),{},{completed:i.completed+1,errors:(0,c.Z)((0,c.Z)({},i.errors),{},(0,o.Z)({},n.id,n.error))})});case"complete":return(0,c.Z)((0,c.Z)({},e),{},{step:"completed"})}},V=function(e){var n=e.isOpen,t=e.onClose,i=e.onComplete,r=e.reexecutionStrategy,o=e.selectedRuns,c=w.useRef(o),d=w.useReducer(U,c.current,q),h=(0,l.Z)(d,2),p=h[0],m=h[1],f=Object.keys(p.frozenRuns).length;w.useEffect((function(){n&&m({type:"reset",frozenRuns:c.current})}),[n]),w.useEffect((function(){n||(c.current=o)}),[n,o]);var g=(0,u.D)(H.kO),j=(0,l.Z)(g,1)[0],k=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var n,t,o,a,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m({type:"start"}),n=Object.keys(p.frozenRuns),t=0;case 3:if(!(t<n.length)){e.next=13;break}return o=n[t],e.next=7,j({variables:{reexecutionParams:{parentRunId:o,strategy:r}}});case 7:a=e.sent,"LaunchRunSuccess"===(null===(c=a.data)||void 0===c?void 0:c.launchPipelineReexecution.__typename)?m({type:"reexecution-success"}):m({type:"reexecution-error",id:o,error:K(c)});case 10:t++,e.next=3;break;case 13:m({type:"complete"}),i(p.reexecution);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b="reexecuting"!==p.step;return(0,J.jsxs)(y.Vq,{isOpen:n,title:r===T.hmq.ALL_STEPS?"Re-execute runs":"Re-execute runs from failure",canEscapeKeyClose:b,canOutsideClickClose:b,onClose:t,children:[(0,J.jsx)(y.a7,{children:(0,J.jsxs)(M.Z,{direction:"column",spacing:24,children:[function(){switch(p.step){case"initial":if(!f)return(0,J.jsxs)(M.Z,{direction:"column",spacing:16,children:[(0,J.jsx)("div",{children:"No runs selected for re-execution."}),(0,J.jsx)("div",{children:"The runs you selected may already have finished executing."})]});return(0,J.jsx)(M.Z,{direction:"column",spacing:16,children:(0,J.jsx)("div",{children:r===T.hmq.ALL_STEPS?(0,J.jsxs)("span",{children:["".concat(f," ").concat(1===f?"run":"runs"," will be re-executed "),(0,J.jsx)("strong",{children:"with all steps"}),". Do you wish to continue?"]}):(0,J.jsxs)("span",{children:["".concat(f," ").concat(1===f?"run":"runs"," will be re-executed "),(0,J.jsx)("strong",{children:"from failure"}),". Do you wish to continue?"]})})});case"reexecuting":case"completed":var e=f>0?p.reexecution.completed/f:1;return(0,J.jsxs)(M.Z,{direction:"column",spacing:8,children:[(0,J.jsx)(L.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"reexecuting"===p.step?(0,J.jsx)(F.c,{message:"Re-execution in progress, please do not navigate away yet."}):null]});default:return null}}(),function(){if("initial"===p.step)return null;if("reexecuting"===p.step)return(0,J.jsx)("div",{children:"Please do not close the window or navigate away during re-execution."});var e=p.reexecution.errors,n=Object.keys(e).length,t=p.reexecution.completed-n;return(0,J.jsxs)(M.Z,{direction:"column",spacing:8,children:[t?(0,J.jsxs)(M.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,J.jsx)(v.JO,{name:"check_circle",color:C.w.Green500}),(0,J.jsx)("div",{children:"Successfully requested re-execution for ".concat(t," ").concat(1===t?"run":"runs",".")})]}):null,n?(0,J.jsxs)(M.Z,{direction:"column",spacing:8,children:[(0,J.jsxs)(M.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,J.jsx)(v.JO,{name:"warning",color:C.w.Yellow500}),(0,J.jsx)("div",{children:"Could not request re-execution for ".concat(n," ").concat(1===n?"run":"runs",":")})]}),(0,J.jsx)("ul",{children:Object.keys(e).map((function(n){return(0,J.jsx)("li",{children:(0,J.jsxs)(M.Z,{direction:"row",spacing:8,alignItems:"baseline",children:[(0,J.jsx)(D.fv,{children:n.slice(0,8)}),e[n]?(0,J.jsx)("div",{children:B(e[n])}):null]})},n)}))})]}):null]})}()]})}),(0,J.jsx)(y.cN,{children:function(){switch(p.step){case"initial":return f?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(x.zx,{intent:"none",onClick:t,children:"Cancel"}),(0,J.jsx)(x.zx,{intent:"primary",onClick:k,children:"Re-execute ".concat("".concat(f," ").concat(1===f?"run":"runs"))})]}):(0,J.jsx)(x.zx,{intent:"none",onClick:t,children:"OK"});case"reexecuting":return(0,J.jsx)(x.zx,{intent:"primary",disabled:!0,children:"Re-executing ".concat("".concat(f," ").concat(1===f?"run":"runs","..."))});case"completed":return(0,J.jsx)(x.zx,{intent:"primary",onClick:t,children:"Done"})}}()})]})},Q=t(20967),G=t(21687),X=t(69654),Y=t(37870),$=w.memo((function(e){var n,t=e.run,i=e.onAddTag,r=w.useContext(H.Lw).refetch,d=w.useState("none"),p=(0,l.Z)(d,2),C=p[0],T=p[1],L=w.useContext(N.I).rootServerURI,M=(0,b.k6)(),D=(0,R.m)(),F=(0,u.D)(H.kO,{onCompleted:r}),K=(0,l.Z)(F,1)[0],B=(0,h.t)(ne,{variables:{runId:t.id}}),q=(0,l.Z)(B,2),U=q[0],V=q[1],$=V.called,W=V.loading,ie=V.data,re=function(){T("none")},oe=function(){r()},se="Run"===(null===ie||void 0===ie||null===(n=ie.pipelineRunOrError)||void 0===n?void 0:n.__typename)?null===ie||void 0===ie?void 0:ie.pipelineRunOrError:null,ae=null===se||void 0===se?void 0:se.runConfigYaml,ce=(0,E.n)(se),le=(0,Y.J)((0,c.Z)((0,c.Z)({},t),{},{parentPipelineSnapshotId:null===se||void 0===se?void 0:se.parentPipelineSnapshotId})),de=Q.cv.has(t.status),ue=!(!ce||!(0,O.E8)(null===ce||void 0===ce?void 0:ce.match,t.pipelineName)),he=!!$&&!W,pe=w.useMemo((function(){return t.hasReExecutePermission?le?{disabled:le.disabled,message:le.tooltip}:he?{disabled:!1}:{disabled:!0}:{disabled:!0,message:I.Qr}}),[t.hasReExecutePermission,le,he]);return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)(x.zH,{children:[(0,J.jsx)(S.A,{to:"/runs/".concat(t.id),children:"View run"}),(0,J.jsx)(m.J,{content:(0,J.jsxs)(f.v2,{children:[(0,J.jsx)(f.sN,{tagName:"button",text:W?"Loading configuration...":"View configuration...",disabled:!ae,icon:"open_in_new",onClick:function(){return T("config")}}),(0,J.jsx)(f.sN,{tagName:"button",text:(0,J.jsxs)("div",{style:{display:"contents"},children:["View all tags",(0,J.jsx)(g.x,{flex:{justifyContent:"center",alignItems:"center",display:"inline-flex"},padding:{vertical:4,horizontal:8},children:(0,J.jsx)(te,{children:"t"})})]}),icon:"tag",onClick:function(){return T("tags")}}),(0,J.jsx)(f.R,{}),(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(j.u,{content:t.hasReExecutePermission?ee:P.U,position:"left",disabled:he&&t.hasReExecutePermission,targetTagName:"div",children:(0,J.jsx)(_.U,{text:"Open in Launchpad...",disabled:!he||!t.hasReExecutePermission,icon:"edit",to:(0,z.$O)({id:t.id,pipelineName:t.pipelineName,repositoryName:null===ce||void 0===ce?void 0:ce.match.repository.name,repositoryLocationName:null===ce||void 0===ce?void 0:ce.match.repositoryLocation.name,isJob:ue})})}),(0,J.jsx)(j.u,{content:pe.message||"",position:"left",canShow:pe.disabled,targetTagName:"div",children:(0,J.jsx)(f.sN,{tagName:"button",text:"Re-execute",disabled:pe.disabled,icon:"refresh",onClick:(0,a.Z)((0,s.Z)().mark((function e(){var n,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ce||!ae){e.next=5;break}return e.next=3,K({variables:(0,H.kz)({run:(0,c.Z)((0,c.Z)({},t),{},{runConfigYaml:ae}),style:{type:"all"},repositoryLocationName:ce.match.repositoryLocation.name,repositoryName:ce.match.repository.name})});case 3:i=e.sent,(0,H.lF)(t.pipelineName,null===(n=i.data)||void 0===n?void 0:n.launchPipelineReexecution,M,{behavior:"open"});case 5:case"end":return e.stop()}}),e)})))})}),de||!t.hasTerminatePermission?null:(0,J.jsx)(f.sN,{tagName:"button",icon:"cancel",text:"Terminate",onClick:function(){return T("terminate")}}),(0,J.jsx)(f.R,{})]}),(0,J.jsx)(f.AL,{text:"Download debug file",icon:"download_for_offline",download:!0,href:"".concat(L,"/download_debug/").concat(t.id)}),t.hasDeletePermission?(0,J.jsx)(f.sN,{tagName:"button",icon:"delete",text:"Delete",intent:"danger",onClick:function(){return T("delete")}}):null]}),position:"bottom-right",onOpening:function(){$||U()},children:(0,J.jsx)(x.zx,{icon:(0,J.jsx)(v.JO,{name:"expand_more"})})})]}),t.hasTerminatePermission?(0,J.jsx)(X.A,{isOpen:"terminate"===C,onClose:re,onComplete:oe,selectedRuns:(0,o.Z)({},t.id,t.canTerminate)}):null,t.hasDeletePermission?(0,J.jsx)(A.N,{isOpen:"delete"===C,onClose:re,onComplete:oe,onTerminateInstead:function(){return T("terminate")},selectedRuns:(0,o.Z)({},t.id,t.canTerminate)}):null,(0,J.jsxs)(y.Vq,{isOpen:"tags"===C,title:"Tags",canOutsideClickClose:!0,canEscapeKeyClose:!0,onClose:re,children:[(0,J.jsx)(y.a7,{children:(0,J.jsx)(G.Q,{tags:t.tags,mode:ue?"default"!==t.mode?t.mode:null:t.mode,onAddTag:i})}),(0,J.jsx)(y.cN,{topBorder:!0,children:(0,J.jsx)(x.zx,{intent:"primary",onClick:re,children:"Close"})})]}),(0,J.jsxs)(y.Vq,{isOpen:"config"===C,title:"Config",canOutsideClickClose:!0,canEscapeKeyClose:!0,onClose:re,children:[(0,J.jsx)(k.NU,{value:ae||"",options:{lineNumbers:!0,mode:"yaml"}}),(0,J.jsxs)(y.cN,{topBorder:!0,children:[(0,J.jsx)(x.zx,{intent:"none",onClick:(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(ae||""),e.next=3,(0,Z.B7)({intent:"success",icon:"copy_to_clipboard_done",message:"Copied!"});case 3:case"end":return e.stop()}}),e)}))),children:"Copy config"}),(0,J.jsx)(x.zx,{intent:"primary",onClick:re,children:"OK"})]})]})]})})),W=w.memo((function(e){var n=e.selected,t=e.clearSelection,i=w.useContext(H.Lw).refetch,r=w.useState("none"),s=(0,l.Z)(r,2),a=s[0],d=s[1],u=w.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission}))}),[n]),h=w.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission}))}),[n]),p=w.useMemo((function(){return n.some((function(e){return e.hasReExecutePermission}))}),[n]),g=!u&&!h,j=n.filter((function(e){return!Q.cv.has(null===e||void 0===e?void 0:e.status)&&e.hasTerminatePermission})),y=j.map((function(e){return e.id})),k=j.reduce((function(e,n){return(0,c.Z)((0,c.Z)({},e),{},(0,o.Z)({},n.id,n.canTerminate))}),{}),C=n.map((function(e){return e.id})),b=n.reduce((function(e,n){return(0,c.Z)((0,c.Z)({},e),{},(0,o.Z)({},n.id,n.canTerminate))}),{}),N=n.filter((function(e){return Q.hd.has(null===e||void 0===e?void 0:e.status)&&e.hasReExecutePermission})),Z=N.reduce((function(e,n){return(0,c.Z)((0,c.Z)({},e),{},(0,o.Z)({},n.id,n.id))}),{}),I=n.filter((function(e){return Q.cv.has(null===e||void 0===e?void 0:e.status)&&e.hasReExecutePermission})),R=I.reduce((function(e,n){return(0,c.Z)((0,c.Z)({},e),{},(0,o.Z)({},n.id,n.id))}),{}),P=function(){d("none")},S=function(){t(),i()};return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(m.J,{disabled:g||0===n.length,content:(0,J.jsxs)(f.v2,{children:[u?(0,J.jsx)(f.sN,{icon:"cancel",text:"Terminate ".concat(y.length," ").concat(1===y.length?"run":"runs"),disabled:0===y.length,onClick:function(){d("terminate")}}):null,h?(0,J.jsx)(f.sN,{icon:"delete",intent:"danger",text:"Delete ".concat(C.length," ").concat(1===C.length?"run":"runs"),disabled:0===C.length,onClick:function(){d("delete")}}):null,p?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(f.sN,{icon:"refresh",text:"Re-execute ".concat(I.length," ").concat(1===I.length?"run":"runs"),disabled:0===I.length,onClick:function(){d("reexecute")}}),(0,J.jsx)(f.sN,{icon:"refresh",text:"Re-execute ".concat(N.length," ").concat(1===N.length?"run":"runs"," from failure"),disabled:0===N.length,onClick:function(){d("reexecute-from-failure")}})]}):null]}),position:"bottom-right",children:(0,J.jsx)(x.zx,{disabled:g||0===n.length,rightIcon:(0,J.jsx)(v.JO,{name:"expand_more"}),intent:"primary",children:"Actions"})}),(0,J.jsx)(X.A,{isOpen:"terminate"===a,onClose:P,onComplete:S,selectedRuns:k}),(0,J.jsx)(A.N,{isOpen:"delete"===a,onClose:P,onComplete:S,onTerminateInstead:function(){return d("terminate")},selectedRuns:b}),(0,J.jsx)(V,{isOpen:"reexecute-from-failure"===a,onClose:P,onComplete:S,selectedRuns:Z,reexecutionStrategy:T.hmq.FROM_FAILURE}),(0,J.jsx)(V,{isOpen:"reexecute"===a,onClose:P,onComplete:S,selectedRuns:R,reexecutionStrategy:T.hmq.ALL_STEPS})]})})),ee="Launchpad is unavailable because the pipeline is not present in the current repository.",ne=(0,p.Ps)(i||(i=(0,r.Z)(["\n  query PipelineEnvironmentQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        pipelineName\n        pipelineSnapshotId\n        runConfigYaml\n        pipelineName\n        parentPipelineSnapshotId\n        repositoryOrigin {\n          id\n          repositoryName\n          repositoryLocationName\n        }\n      }\n    }\n  }\n"]))),te=d.ZP.div.withConfig({displayName:"RunActionsMenu__SlashShortcut",componentId:"sc-1et2hvz-0"})(["border-radius:4px;padding:0px 6px;background:",";color:",";"],C.w.Gray100,C.w.Gray500)},15352:function(e,n,t){t.d(n,{A:function(){return A},Z:function(){return M}});var i,r=t(71171),o=t(41361),s=t(96234),a=t(33028),c=t(60319),l=t(31623),d=t(47515),u=t(67445),h=t(58507),p=t(67888),x=t(17914),m=t(83473),f=t(32667),g=t(78193),j=t(97412),v=t(72691),y=t(9938),k=t(97734),C=t(48341),w=t(24265),b=t(85279),N=t(92761),Z=t(66708),I=t(80500),R=t(63167),T=t(74492),P=t(79234),S=t(25465),_=t(45081),O=t(21687),E=t(89622),z=t(35936),A=function(e){return(0,v.gV)().flagRunsTableFiltering?(0,z.jsx)(_.A,(0,a.Z)({},e)):(0,z.jsx)(L,(0,a.Z)({},e))},L=function(e){var n=e.runs,t=e.filter,i=e.onAddTag,r=e.highlightedIds,a=e.actionBarComponents,c=n.map((function(e){return e.id})),l=(0,k.a)(c),m=(0,s.Z)(l,2),f=m[0].checkedIds,j=m[1],v=j.onToggleFactory,y=j.onToggleAll,C=g.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission||e.hasDeletePermission}))}),[n]),w=(0,N.vl)().options;if(0===n.length){var I=Object.keys(t||{}).length;return(0,z.jsxs)("div",{children:[a?(0,z.jsx)(d.x,{padding:{vertical:8,left:24,right:12},children:a}):null,(0,z.jsx)(d.x,{margin:{vertical:32},children:I?(0,z.jsx)(u.t,{icon:"run",title:"No matching runs",description:"No runs were found for this filter."}):(0,z.jsx)(u.t,{icon:"run",title:"No runs found",description:(0,z.jsxs)(d.x,{flex:{direction:"column",gap:12},children:[(0,z.jsx)("div",{children:"You have not launched any runs yet."}),(0,z.jsxs)(d.x,{flex:{direction:"row",gap:12,alignItems:"center"},children:[(0,z.jsx)(b.A,{icon:(0,z.jsx)(h.JO,{name:"add_circle"}),to:"/overview/jobs",children:"Launch a run"}),(0,z.jsx)("span",{children:"or"}),(0,z.jsx)(b.A,{icon:(0,z.jsx)(h.JO,{name:"materialization"}),to:"/asset-groups",children:"Materialize an asset"})]})]})})})]})}var R,T=!1,S=(0,o.Z)(n);try{for(S.s();!(R=S.n()).done;){var _=R.value,O=_.repositoryOrigin;if(O){var E=(0,Z.kQ)(O.repositoryName,O.repositoryLocationName),A=(0,N.qz)(w,E);if(!A||!(0,N.E8)(A,_.pipelineName)){T=!0;break}}}}catch(M){S.e(M)}finally{S.f()}var L=n.filter((function(e){return f.has(e.id)}));return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(d.x,{flex:{alignItems:"center",gap:12},padding:{vertical:8,left:24,right:12},children:[a,(0,z.jsx)("div",{style:{flex:1}}),(0,z.jsx)(P.m,{selected:L,clearSelection:function(){return y(!1)}})]}),(0,z.jsxs)(p.i,{children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{style:{width:42,paddingTop:0,paddingBottom:0},children:C?(0,z.jsx)(x.X,{indeterminate:f.size>0&&f.size!==n.length,checked:f.size===n.length,onChange:function(e){e.target instanceof HTMLInputElement&&y(e.target.checked)}}):null}),(0,z.jsx)("th",{style:{width:120},children:"Status"}),(0,z.jsx)("th",{style:{width:90},children:"Run ID"}),(0,z.jsx)("th",{children:T?"Job / Pipeline":"Job"}),(0,z.jsx)("th",{style:{width:90},children:"Snapshot ID"}),(0,z.jsx)("th",{style:{width:190},children:"Timing"}),e.additionalColumnHeaders,(0,z.jsx)("th",{style:{width:52}})]})}),(0,z.jsx)("tbody",{children:n.map((function(n){var t;return(0,z.jsx)(D,{canTerminateOrDelete:n.hasTerminatePermission||n.hasDeletePermission,run:n,onAddTag:i,checked:f.has(n.id),additionalColumns:null===(t=e.additionalColumnsForRow)||void 0===t?void 0:t.call(e,n),onToggleChecked:v(n.id),isHighlighted:r&&r.includes(n.id)},n.id)}))})]})]})},M=(0,l.Ps)(i||(i=(0,r.Z)(["\n  fragment RunTableRunFragment on Run {\n    id\n    status\n    stepKeysToExecute\n    canTerminate\n    hasReExecutePermission\n    hasTerminatePermission\n    hasDeletePermission\n    mode\n    rootRunId\n    parentRunId\n    pipelineSnapshotId\n    pipelineName\n    repositoryOrigin {\n      id\n      repositoryName\n      repositoryLocationName\n    }\n    solidSelection\n    assetSelection {\n      ... on AssetKey {\n        path\n      }\n    }\n    status\n    tags {\n      key\n      value\n    }\n    ...RunTimeFragment\n  }\n\n  ","\n"])),E.$X),D=function(e){var n=e.run,t=e.canTerminateOrDelete,i=e.onAddTag,r=e.checked,o=e.onToggleChecked,s=e.additionalColumns,a=e.isHighlighted,c=n.pipelineName,l=(0,I.r)(n),u=g.useMemo((function(){if(l){var e=l.match.repository.pipelines.find((function(e){return e.name===c}));return!(null===e||void 0===e||!e.isJob)}return!1}),[l,c]);return(0,z.jsxs)(F,{highlighted:!!a,children:[(0,z.jsx)("td",{children:t&&o?(0,z.jsx)(x.X,{checked:!!r,onChange:function(e){if(e.target instanceof HTMLInputElement){var n=e.target.checked,t=e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift");o&&o({checked:n,shiftKey:t})}}}):null}),(0,z.jsx)("td",{children:(0,z.jsx)(S.M9,{status:n.status,runId:n.id})}),(0,z.jsx)("td",{children:(0,z.jsx)(j.rU,{to:"/runs/".concat(n.id),children:(0,z.jsx)(m.fv,{children:(0,E.EI)(n)})})}),(0,z.jsx)("td",{children:(0,z.jsxs)(d.x,{flex:{direction:"column",gap:5},children:[(0,y.pv)(n.pipelineName)?(0,z.jsx)(T.m,{assetKeys:(0,E.Bo)(n)}):(0,z.jsxs)(d.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,z.jsx)(w.h,{isJob:u,showIcon:!0,pipelineName:n.pipelineName,pipelineHrefContext:"no-link"}),(0,z.jsx)(j.rU,{to:l?(0,R.jT)({repoName:l.match.repository.name,repoLocation:l.match.repositoryLocation.name,pipelineName:n.pipelineName,isJob:u}):(0,R.r4)(n.pipelineName),target:"_blank",children:(0,z.jsx)(h.JO,{name:"open_in_new",color:f.w.Blue500})})]}),(0,z.jsx)(O.Q,{tags:n.tags,mode:u?"default"!==n.mode?n.mode:null:n.mode,onAddTag:i})]})}),(0,z.jsx)("td",{children:(0,z.jsx)(C.J2,{snapshotId:n.pipelineSnapshotId||"",pipelineName:n.pipelineName,size:"normal"})}),(0,z.jsxs)("td",{children:[(0,z.jsx)(E.Zr,{run:n}),(0,z.jsx)(E.Tw,{run:n})]}),s,(0,z.jsx)("td",{children:(0,z.jsx)(P.K,{run:n})})]})},F=c.ZP.tr.withConfig({displayName:"RunTable__Row",componentId:"sc-18h8t3i-0"})(["",""],(function(e){return e.highlighted?"box-shadow: inset 3px 3px #bfccd6, inset -3px -3px #bfccd6;":null}))},45081:function(e,n,t){t.d(n,{Z:function(){return J},A:function(){return H}});var i=t(71171),r=t(96234),o=t(60319),s=t(31623),a=t(47515),c=t(67445),l=t(58507),d=t(67888),u=t(17914),h=t(83473),p=t(95714),x=t(32667),m=t(72835),f=t(92555),g=t(3077),j=t(45519),v=t(78193),y=t(97412),k=t(30382),C=t(9938),w=t(97734),b=t(48341),N=t(24265),Z=t(85279),I=t(80500),R=t(63167),T=t(74492),P=t(79234),S=t(1360),_=t(68506),O=t(21687),E=t(22264),z=t(35936);function A(e){var n,t=e.run.tags||[],i=t.find((function(e){return e.key===_.H.Backfill})),r=t.find((function(e){return e.key===_.H.ScheduleName})),o=t.find((function(e){return e.key===_.H.SensorName})),s=t.find((function(e){return e.key===_.H.User})),c=t.find((function(e){return e.key===_.H.Automaterialize||e.key===_.H.CreatedBy&&"auto_materialize"===e.value})),l=t.find((function(e){return e.key===_.H.CreatedBy})),d=(0,S.C)().UserDisplay;if(s)n=(0,z.jsx)(d,{email:s.value});else if(i){var u,h=null!==(u=e.run.assetSelection)&&void 0!==u&&u.length?"/overview/backfills/".concat(i.value):(0,E.it)([{token:"tag",value:"dagster/backfill=".concat(i.value)}]);n=(0,z.jsx)(M,{children:(0,z.jsx)(O.Q,{tags:[{key:_.H.Backfill,value:i.value,link:h}],mode:null,onAddTag:e.onAddTag})})}else n=r?(0,z.jsx)(p.V,{icon:"schedule",children:r.value},"schedule"):o?(0,z.jsx)(p.V,{icon:"sensors",children:o.value},"sensor"):c?(0,z.jsx)(p.V,{icon:"auto_materialize_policy",children:"Auto-materialize policy"},"automaterialize"):(0,z.jsx)(p.V,{icon:"account_circle",children:"Launchpad"});return(0,z.jsx)(a.x,{flex:{direction:"column",alignItems:"flex-start"},children:n||(null===l||void 0===l?void 0:l.value)})}var L,M=o.ZP.div.withConfig({displayName:"RunCreatedByCell__RunTagsWrapper",componentId:"sc-1v53bf1-0"})(["display:contents;> *{display:contents;}"]),D=t(25465),F=t(89622),H=function(e){var n=e.runs,t=e.filter,i=e.onAddTag,o=e.highlightedIds,s=e.actionBarComponents,h=e.belowActionBarComponents,p=e.hideCreatedBy,x=n.map((function(e){return e.id})),m=(0,w.a)(x),f=(0,r.Z)(m,2),g=f[0].checkedIds,j=f[1],y=j.onToggleFactory,k=j.onToggleAll,C=v.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission||e.hasDeletePermission}))}),[n]);var b=n.filter((function(e){return g.has(e.id)}));return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(q,{top:(0,z.jsxs)(a.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"center",grow:1},children:[s,(0,z.jsx)(P.m,{selected:b,clearSelection:function(){return k(!1)}})]}),bottom:h}),function(){if(0===n.length){var r=Object.keys(t||{}).length;return(0,z.jsx)("div",{children:(0,z.jsx)(a.x,{margin:{vertical:32},children:r?(0,z.jsx)(c.t,{icon:"run",title:"No matching runs",description:"No runs were found for this filter."}):(0,z.jsx)(c.t,{icon:"run",title:"No runs found",description:(0,z.jsxs)(a.x,{flex:{direction:"column",gap:12},children:[(0,z.jsx)("div",{children:"You have not launched any runs yet."}),(0,z.jsxs)(a.x,{flex:{direction:"row",gap:12,alignItems:"center"},children:[(0,z.jsx)(Z.A,{icon:(0,z.jsx)(l.JO,{name:"add_circle"}),to:"/overview/jobs",children:"Launch a run"}),(0,z.jsx)("span",{children:"or"}),(0,z.jsx)(Z.A,{icon:(0,z.jsx)(l.JO,{name:"materialization"}),to:"/asset-groups",children:"Materialize an asset"})]})]})})})})}return(0,z.jsxs)(d.i,{children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{style:{width:42,paddingTop:0,paddingBottom:0},children:C?(0,z.jsx)(u.X,{indeterminate:g.size>0&&g.size!==n.length,checked:g.size===n.length,onChange:function(e){e.target instanceof HTMLInputElement&&k(e.target.checked)}}):null}),(0,z.jsx)("th",{style:{width:90},children:"Run ID"}),(0,z.jsx)("th",{style:{width:180},children:"Created date"}),(0,z.jsx)("th",{children:"Target"}),p?null:(0,z.jsx)("th",{style:{width:160},children:"Created by"}),(0,z.jsx)("th",{style:{width:120},children:"Status"}),(0,z.jsx)("th",{style:{width:190},children:"Duration"}),e.additionalColumnHeaders,(0,z.jsx)("th",{style:{width:52}})]})}),(0,z.jsx)("tbody",{children:n.map((function(n){var t;return(0,z.jsx)(K,{canTerminateOrDelete:n.hasTerminatePermission||n.hasDeletePermission,run:n,onAddTag:i,checked:g.has(n.id),additionalColumns:null===(t=e.additionalColumnsForRow)||void 0===t?void 0:t.call(e,n),onToggleChecked:y(n.id),isHighlighted:o&&o.includes(n.id)},n.id)}))})]})}()]})},J=(0,s.Ps)(L||(L=(0,i.Z)(["\n  fragment RunTableRunNewFragment on Run {\n    id\n    status\n    stepKeysToExecute\n    canTerminate\n    hasReExecutePermission\n    hasTerminatePermission\n    hasDeletePermission\n    mode\n    rootRunId\n    parentRunId\n    pipelineSnapshotId\n    pipelineName\n    repositoryOrigin {\n      id\n      repositoryName\n      repositoryLocationName\n    }\n    solidSelection\n    assetSelection {\n      ... on AssetKey {\n        path\n      }\n    }\n    status\n    tags {\n      key\n      value\n    }\n    ...RunTimeFragment\n  }\n\n  ","\n"])),F.$X),K=function(e){var n,t=e.run,i=e.canTerminateOrDelete,o=e.onAddTag,s=e.checked,c=e.onToggleChecked,d=e.additionalColumns,w=e.isHighlighted,Z=e.hideCreatedBy,S=t.pipelineName,E=(0,I.r)(t),L=v.useMemo((function(){if(E){var e=E.match.repository.pipelines.find((function(e){return e.name===S}));return!(null===e||void 0===e||!e.isJob)}return!1}),[E,S]),M=t.tags.some((function(e){return e.key===_.H.ParentRunId})),H=v.useState(!1),J=(0,r.Z)(H,2),K=J[0],q=J[1],V=v.useState(!1),Q=(0,r.Z)(V,2),G=Q[0],X=Q[1],Y=t.tags.find((function(e){return e.key===_.H.Partition}));return(0,z.jsxs)(B,{highlighted:!!w,onMouseEnter:function(){X(!0)},onMouseLeave:function(){X(!1)},children:[(0,z.jsx)("td",{children:i&&c?(0,z.jsx)(u.X,{checked:!!s,onChange:function(e){if(e.target instanceof HTMLInputElement){var n=e.target.checked,t=e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift");c&&c({checked:n,shiftKey:t})}}}):null}),(0,z.jsx)("td",{children:(0,z.jsx)(y.rU,{to:"/runs/".concat(t.id),children:(0,z.jsx)(h.fv,{children:(0,F.EI)(t)})})}),(0,z.jsx)("td",{children:(0,z.jsxs)(a.x,{flex:{direction:"column",gap:8},children:[(0,z.jsx)(F.Zr,{run:t}),M?(0,z.jsx)("div",{children:(0,z.jsx)(p.V,{icon:"cached",children:"Re-execution"})}):null]})}),(0,z.jsxs)("td",{style:{position:"relative"},children:[(0,z.jsxs)(a.x,{flex:{direction:"column",gap:5},children:[(0,C.pv)(t.pipelineName)?(0,z.jsx)(T.m,{assetKeys:(0,F.Bo)(t)}):(0,z.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,z.jsx)(N.h,{isJob:L,showIcon:!0,pipelineName:t.pipelineName,pipelineHrefContext:"no-link"}),(0,z.jsx)(y.rU,{to:E?(0,R.jT)({repoName:E.match.repository.name,repoLocation:E.match.repositoryLocation.name,pipelineName:t.pipelineName,isJob:L}):(0,R.r4)(t.pipelineName),target:"_blank",children:(0,z.jsx)(l.JO,{name:"open_in_new",color:x.w.Blue500})})]}),(0,z.jsxs)(a.x,{flex:{direction:"row",gap:8,wrap:"wrap"},children:[t.tags.length?(0,z.jsx)(a.x,{children:(0,z.jsx)(m.m,{fillColor:x.w.Gray100,label:(0,z.jsxs)(f.Z,{onClick:function(){q(!0)},children:[t.tags.length," tag",1===t.tags.length?"":"s"]})})}):null,(0,z.jsxs)(U,{children:[Y?(0,z.jsx)(O.Q,{tags:[Y],mode:L?"default"!==t.mode?t.mode:null:t.mode,onAddTag:o}):null,t.pipelineSnapshotId?(0,z.jsx)(O.Q,{tags:[{key:_.H.SnapshotID,value:(null===(n=t.pipelineSnapshotId)||void 0===n?void 0:n.slice(0,8))||"",link:t.pipelineSnapshotId?(0,b.sS)(t.pipelineName,t.pipelineSnapshotId):void 0}],mode:L?"default"!==t.mode?t.mode:null:t.mode}):null]})]})]}),G&&t.tags.length?(0,z.jsx)(k.b,{onShortcut:function(){q((function(e){return!e}))},shortcutLabel:"t",shortcutFilter:function(e){return"KeyT"===e.code},children:null},"runtabletags"):null]}),Z?null:(0,z.jsx)("td",{children:(0,z.jsx)(A,{run:t,onAddTag:o})}),(0,z.jsx)("td",{children:(0,z.jsx)(D.M9,{status:t.status,runId:t.id})}),(0,z.jsx)("td",{children:(0,z.jsx)(F.Tw,{run:t})}),d,(0,z.jsx)("td",{children:(0,z.jsx)(P.K,{run:t,onAddTag:o})}),(0,z.jsxs)(g.Vq,{isOpen:K,title:"Tags",canOutsideClickClose:!0,canEscapeKeyClose:!0,onClose:function(){q(!1)},children:[(0,z.jsx)(g.a7,{children:(0,z.jsx)(O.Q,{tags:t.tags,mode:L?"default"!==t.mode?t.mode:null:t.mode,onAddTag:o})}),(0,z.jsx)(g.cN,{topBorder:!0,children:(0,z.jsx)(j.zx,{intent:"primary",onClick:function(){q(!1)},children:"Close"})})]})]})},B=o.ZP.tr.withConfig({displayName:"RunTableNew__Row",componentId:"sc-13t9dsz-0"})(["",""],(function(e){return e.highlighted?"box-shadow: inset 3px 3px #bfccd6, inset -3px -3px #bfccd6;":null}));function q(e){var n=e.top,t=e.bottom;return(0,z.jsxs)(a.x,{flex:{direction:"column"},padding:{vertical:12},children:[(0,z.jsx)(a.x,{flex:{alignItems:"center",gap:12},padding:{left:24,right:24},children:n}),t?(0,z.jsx)(a.x,{margin:{top:12},padding:{left:24,right:12,top:8},border:{side:"top",width:1,color:x.w.KeylineGray},flex:{gap:8},children:t}):null]})}var U=o.ZP.div.withConfig({displayName:"RunTableNew__RunTagsWrapper",componentId:"sc-13t9dsz-1"})(["display:contents;> *{display:contents;}"])},4774:function(e,n,t){t.d(n,{l:function(){return l}});var i=t(68079),r=t(33028),o=t(96234),s=t(90239),a=t(78193),c=t(46860);function l(e){var n=a.useState((function(){return[]})),t=(0,o.Z)(n,2),l=t[0],d=t[1],u=(0,c.q)({queryKey:"cursor"}),h=(0,o.Z)(u,2),p=h[0],x=h[1],m=(0,r.Z)((0,r.Z)({},e.variables),{},{cursor:p,limit:e.pageSize+1}),f=(0,s.a)(e.query,{partialRefetch:!0,skip:e.skip,variables:m,notifyOnNetworkStatusChange:!0}),g=e.getResultArray(f.data),j={hasPrevCursor:!!p,hasNextCursor:g.length===e.pageSize+1,popCursor:function(){var e=(0,i.Z)(l);x(e.pop()),d(e)},advanceCursor:function(){p&&d((function(e){return[].concat((0,i.Z)(e),[p])}));var n=f.data&&e.nextCursorForResult(f.data);n&&x(n)},reset:function(){d([]),x(void 0)}};return{queryResult:f,paginationProps:j}}},79986:function(e,n,t){t.d(n,{U:function(){return p}});var i=t(33028),r=t(59740),o=t(60319),s=t(85357),a=t(47515),c=t(58507),l=t(32667),d=(t(78193),t(97412)),u=t(35936),h=["icon","intent","text","disabled"],p=function(e){var n=e.icon,t=e.intent,o=e.text,c=e.disabled,l=(0,r.Z)(e,h);return c?(0,u.jsx)(s.sN,{disabled:!0,icon:n,intent:t,text:o}):(0,u.jsx)(x,(0,i.Z)((0,i.Z)({},l),{},{children:(0,u.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,s.cR)(n,t),(0,u.jsx)("div",{children:o})]})}))},x=(0,o.ZP)(d.rU).withConfig({displayName:"MenuLink__StyledMenuLink",componentId:"sc-1162pbu-0"})(["text-decoration:none;border-radius:4px;display:block;line-height:20px;padding:6px 8px 6px 12px;transition:background-color 50ms,box-shadow 150ms;align-items:flex-start;user-select:none;","{margin-top:2px;}",":first-child{margin-left:-4px;}&&&:link,&&&:visited,&&&:hover,&&&:active{color:",";text-decoration:none;}&&&:hover{background:",";}"],c.a1,c.a1,l.w.Gray900,l.w.Gray100)}}]);
//# sourceMappingURL=715.a05ad156.chunk.js.map