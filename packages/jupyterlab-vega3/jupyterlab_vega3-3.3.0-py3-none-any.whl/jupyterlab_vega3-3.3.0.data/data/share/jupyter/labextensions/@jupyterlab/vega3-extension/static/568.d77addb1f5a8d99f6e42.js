"use strict";(self.webpackChunk_jupyterlab_vega3_extension=self.webpackChunk_jupyterlab_vega3_extension||[]).push([[568],{1568:(e,a,t)=>{t.r(a),t.d(a,{RenderedVega3:()=>d,VEGALITE_MIME_TYPE:()=>o,VEGA_MIME_TYPE:()=>r,default:()=>p,rendererFactory:()=>l});var n=t(8778),s=t(9386),i=t.n(s);const r="application/vnd.vega.v3+json",o="application/vnd.vegalite.v2+json";class d extends n.Widget{constructor(e){super(),this._mimeType=e.mimeType,this._resolver=e.resolver,this.addClass("jp-RenderedVegaCommon3"),this.addClass(this._mimeType===r?"jp-RenderedVega3":"jp-RenderedVegaLite2")}renderModel(e){const a=e.data[this._mimeType],t=e.metadata[this._mimeType],n=t&&t.embed_options?t.embed_options:{},o=this._mimeType===r?"vega":"vega-lite";return this._resolver.resolveUrl("").then((t=>this._resolver.getDownloadUrl(t).then((t=>{const r=s.vega.loader({baseURL:t}),d={actions:!0,...n,mode:o,loader:r},l=document.createElement("div");return this.node.innerHTML="",this.node.appendChild(l),i()(l,a,d).then((a=>{if(!e.data["image/png"])return a.view.toImageURL("png").then((a=>{const t={...e.data,"image/png":a.split(",")[1]};e.setData({data:t})}))}))}))))}}const l={safe:!0,mimeTypes:[r,o],createRenderer:e=>new d(e)},p={id:"@jupyterlab/vega3-extension:factory",rendererFactory:l,rank:59,dataType:"json",documentWidgetFactoryOptions:[{name:"Vega 3",primaryFileType:"vega3",fileTypes:["vega3","json"],defaultFor:["vega3"]},{name:"Vega-Lite 2",primaryFileType:"vega-lite2",fileTypes:["vega-lite2","json"],defaultFor:["vega-lite2"]}],fileTypes:[{mimeTypes:[r],name:"vega3",extensions:[".vg",".vg.json",".vega"],iconClass:"jp-MaterialIcon jp-VegaIcon"},{mimeTypes:[o],name:"vega-lite2",extensions:[".vl",".vl.json",".vegalite"],iconClass:"jp-MaterialIcon jp-VegaIcon"}]}}}]);