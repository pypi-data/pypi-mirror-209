import{d as B,O as I,c as r,g as N,R,B as Z,T as E,an as M,a3 as P,a,w as n,h as u,E as Q,o as s,i as e,av as S,k as i,aw as y,n as p,ax as V,ay as j,az as z,aA as A,ad as F,as as H,Y as J,e as K}from"./index-b49daa9a.js";import{u as W}from"./useToast-a1b8d6d7.js";import{u as Y}from"./usePageTitle-bc6dd77f.js";const X=B({__name:"Deployment",setup($){const c=I("deploymentId"),_=r(()=>[c.value]),f=Q(),v=N(),h=W(),b={interval:3e5},d=R(v.deployments.getDeployment,[c.value],b),t=r(()=>d.response),w=r(()=>{var o,l;return[{label:"Details",hidden:Z.xl},{label:"Runs"},{label:"Parameters",hidden:(o=t.value)==null?void 0:o.deprecated},{label:"Infra Overrides",hidden:(l=t.value)==null?void 0:l.deprecated},{label:"Description"}]}),{tabs:g}=E(w);function k(){f.push(J.deployments())}const m=r(()=>{var o;return(o=t.value)!=null&&o.infrastructureOverrides?JSON.stringify(t.value.infrastructureOverrides,void 0,2):"{}"}),{filter:x}=M({deployments:{id:_}}),D=r(()=>t.value?`Deployment: ${t.value.name}`:"Deployment");return Y(D),P(t,()=>{var o,l;!((o=t.value)!=null&&o.workQueueName)&&!((l=t.value)!=null&&l.deprecated)&&h(K.info.deploymentMissingWorkQueue,"default",{timeout:!1})}),(o,l)=>{const O=u("p-content"),T=u("p-code-highlight"),U=u("p-tabs"),C=u("p-layout-well");return s(),a(C,{class:"deployment"},{header:n(()=>[e(t)?(s(),a(e(S),{key:0,deployment:e(t),onUpdate:e(d).refresh,onDelete:k},null,8,["deployment","onUpdate"])):i("",!0)]),well:n(()=>[e(t)?(s(),a(e(y),{key:0,deployment:e(t),alternate:"",onUpdate:e(d).refresh},null,8,["deployment","onUpdate"])):i("",!0)]),default:n(()=>[e(t)?(s(),a(U,{key:0,tabs:e(g)},{description:n(()=>[p(O,{secondary:""},{default:n(()=>[e(t).deprecated?(s(),a(e(V),{key:0})):e(t).description?(s(),a(e(j),{key:1,description:e(t).description},null,8,["description"])):(s(),a(e(z),{key:2,deployment:e(t)},null,8,["deployment"]))]),_:1})]),parameters:n(()=>[p(e(A),{deployment:e(t)},null,8,["deployment"])]),"infra-overrides":n(()=>[e(t)?(s(),a(e(F),{key:0,"text-to-copy":e(m)},{default:n(()=>[p(T,{lang:"json",text:e(m),class:"deployment__infra-overrides"},null,8,["text"])]),_:1},8,["text-to-copy"])):i("",!0)]),details:n(()=>[p(e(y),{deployment:e(t),onUpdate:e(d).refresh},null,8,["deployment","onUpdate"])]),runs:n(()=>[p(e(H),{"flow-run-filter":e(x)},null,8,["flow-run-filter"])]),_:1},8,["tabs"])):i("",!0)]),_:1})}}});export{X as default};
