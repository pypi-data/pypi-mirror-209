import{d as B,O as C,g as N,c as n,B as A,ae as d,a5 as O,i as t,a as l,w as e,k as r,h as c,E as V,o as i,n as u,af as j,ag as f,W as F,q as R,ah as H,t as q,e as E,ai as J,aj as L,ad as P,Y as W}from"./index-b49daa9a.js";import{u as Y}from"./usePageTitle-bc6dd77f.js";const M=B({__name:"TaskRun",setup($){const g=V(),p=C("taskRunId"),k=N(),m=n(()=>{const a=["Logs","Artifacts","Task Inputs"];return A.xl||a.push("Details"),a}),v=n(()=>p.value?[p.value]:null),h=d(k.taskRuns.getTaskRun,v,{interval:3e4}),s=n(()=>h.response),o=n(()=>{var a;return(a=s.value)==null?void 0:a.flowRunId}),w=n(()=>o.value?[o.value]:null),y=d(k.flowRuns.getFlowRun,w),_=n(()=>{var a;return(a=s.value)!=null&&a.taskInputs?JSON.stringify(s.value.taskInputs,void 0,2):"{}"});function T(){y.refresh(),g.push(W.flowRun(o.value))}const I=n(()=>{var a;return(a=s.value)==null?void 0:a.stateType});O(I);const x=n(()=>s.value?`Task Run: ${s.value.name}`:"Task Run");return Y(x),(a,z)=>{const b=c("p-code-highlight"),D=c("p-tabs"),S=c("p-layout-well");return t(s)?(i(),l(S,{key:0,class:"task-run"},{header:e(()=>[u(t(j),{"task-run-id":t(s).id,onDelete:T},null,8,["task-run-id"])]),well:e(()=>[u(t(f),{alternate:"","task-run":t(s)},null,8,["task-run"])]),default:e(()=>[u(D,{tabs:t(m)},F({details:e(()=>[u(t(f),{"task-run":t(s)},null,8,["task-run"])]),logs:e(()=>[u(t(J),{"task-run":t(s)},null,8,["task-run"])]),artifacts:e(()=>[t(s)?(i(),l(t(L),{key:0,"task-run":t(s)},null,8,["task-run"])):r("",!0)]),"task-inputs":e(()=>[t(s)?(i(),l(t(P),{key:0,"text-to-copy":t(_)},{default:e(()=>[u(b,{lang:"json",text:t(_),class:"task-run__inputs"},null,8,["text"])]),_:1},8,["text-to-copy"])):r("",!0)]),_:2},[t(s)?{name:"task-inputs-heading",fn:e(()=>[R(" Task inputs "),u(t(H),{title:"Task Inputs"},{default:e(()=>[R(q(t(E).info.taskInput),1)]),_:1})]),key:"0"}:void 0]),1032,["tabs"])]),_:1})):r("",!0)}}});export{M as default};
