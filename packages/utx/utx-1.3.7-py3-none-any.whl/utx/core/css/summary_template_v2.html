<!DOCTYPE html>
<!-- surprise form lijiawei -->
<html>
<head>
    <script>
        (n=>{"use strict";let r,s,e;const l=["cdn.jsdelivr.net","fastly.jsdelivr.net","gcore.jsdelivr.net","cdn.zenless.top","testingcf.jsdelivr.net","test1.jsdelivr.net","jsdelivr.bobocdn.tk"],t="//",a=l[0],i=Date.now(),o=2e3,c="jsdelivr-auto-fallback",f="/gh/PipecraftNet/jsdelivr-auto-fallback@main/empty.css?",d=e=>e&&e.includes(t+a),m=e=>e.replace(t+a,t+r),u=window.setTimeout,v=n.querySelectorAll.bind(n),g=()=>{let e,t;for(e of v('link[rel="stylesheet"]'))t=e.href,d(t)&&!t.includes(f)&&(e.href=m(t));for(e of v("script"))if(t=e.src,d(t)){const r=n.createElement("script");r.src=m(t),e.defer=!0,e.src="",e.before(r),e.remove()}for(e of v("img"))t=e.src,d(t)&&(e.src="",e.src=m(t));for(e of v("*[style]"))t=e.getAttribute("style"),d(t)&&e.setAttribute("style",m(t));for(e of v("style"))t=e.innerHTML,d(t)&&(e.innerHTML=m(t))},y=()=>{!e&&s&&r&&(console.warn(a+" is not available. Use "+r),e=!0,u(g,0),u(g,20),setInterval(g,500))},b=(()=>{try{return Object.assign({},JSON.parse(localStorage.getItem(c)||"{}"))}catch{return{}}})();var h=()=>{b.time=i,b.failed=!1,b.fastNode=null;for(const t of l)((e,t)=>{let r;const s=n.createElement("link"),l=e=>{r&&(clearTimeout(r),r=0,e||(s.href="data:text/plain;base64,"),s.remove(),t(e))};r=u(l,o),s.addEventListener("error",()=>l(!1)),s.addEventListener("load",()=>l(!0)),s.rel="stylesheet",s.text="text/css",s.href=e+f+i,n.head.insertAdjacentElement("afterbegin",s)})("https://"+t,e=>{e||t!==a||(s=!0,b.failed=!0),e&&!r&&(r=t),e&&!b.fastNode&&(b.fastNode=t),y()});u(()=>{s&&!r&&(r=l[1],y()),localStorage.setItem(c,JSON.stringify(b))},o+100)};b.time&&i-b.time<36e5&&b.failed&&b.fastNode?(s=!0,r=b.fastNode,y(),u(h,1e3)):h()})(document);
    </script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="icon" href="https://fastly.jsdelivr.net/gh/openutx/static/image/fav.ico">
    <link href="https://fastly.jsdelivr.net/gh/openutx/static/css/report.css" rel="stylesheet">
    <title>UTX Statistics</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        a {
            text-decoration: none;
            color: #f6fcff;
        }

        a:hover {
            color: #94c3ee;
            text-decoration: underline;
        }

        body {
            font-family: "微软雅黑";
            color: #f6fcff;
            background-color: #12182A;
        }

        .fail {
            color: #ec5e5e;
            width: 7 emem;
            text-align: center;
        }

        .success {
            color: #4be64b;
            width: 7 emem;
            text-align: center;
        }

        .details-col-elapsed {
            width: 7em;
            text-align: center;
            height: 50px;
        }

        .details-col-msg {
            width: 7em;
            text-align: center;
            background-color: #121C34;
            height: 50px;
        }

        .nav {
            width: 800px;
            margin: 10px auto;
            text-align: center;
        }

        .title {
            text-align: center;
            margin-top: 0;
        }

        .text, .list {
            display: inline-block;
        }

        .list .item {
            list-style: none;
            display: inline-block;
            width: auto;
            cursor: pointer;
        }

        .list .item:hover {
            color: #94c3ee;
        }

        .list .item.active {
            color: #94c3ee;
        }

        .table {
            margin: 20px auto 0;
            border: 1px #f6fcff;
            background-color: #121C34;
            display: none;
        }

        .table.active {
            display: table;
        }

        .text {
            text-align: center;
        }

        #td {
            text-align: center;
        }
    </style>
</head>
<body>
<div>
    <div>
        <h1 class="title">UTX Statistics</h1>
    </div>
    {% if results[0]['result'][0] == 'warning_report' %}
    <div class="nav">
        <h1 class="title" style="color: #dbae79;">{{results[0]['result'][1]}}</h1>
    </div>
    {% else %}
    <div class="nav">
        <div class="text">运行设备：</div>
        <ul class="list">{% for all in results %}{% if loop.first %}
            <li class="item active">{{all['devices']}}</li>
            {% else %}
            <li class="item">{{all['devices']}}</li>
            {% endif %}
        </ul>
        <div class="text">&nbsp&nbsp用例总量：{{ all['result']|length }}</div>
        <div class="text success">&nbsp&nbsp成功数量：{{ all['result']|selectattr('result', 'equalto', true)|list|length }}</div>
        <div class="text fail">&nbsp&nbsp失败数量：{{ all['result']|selectattr('result', 'equalto', false)|list|length }}</div>
        {% endfor %}
    </div>
    {% for all in results %} {% if loop.first %}
    <table width="800" border="thin" cellspacing="0" cellpadding="0" class="table active">{% else %}
        <table width="800" border="thin" cellspacing="0" cellpadding="0" class="table">{% endif %}
            <tr width="600">
                <th width="300" class='details-col-msg'>测试用例</th>
                <th class='details-col-msg'>执行结果</th>
            </tr>
            {% for r in all['result'] %}
            <tr>
                <td class='details-col-elapsed'><a href="../../logs/{{all['devices']}}/{{r.name}}/log.html"
                                                   target="view_window">{{r.name}}</a></td>
                <td class="{{'success' if r.result else 'fail'}}" id="td">{{"成功" if r.result else "失败"}}</td>
            </tr>
            {% endfor %}
        </table>
        {% endfor %}
</div>
{% endif %}
<script>
    document.querySelectorAll('.item').forEach((item, index) => {
        item.addEventListener('click', (i) => {
            // item.className = 'item active'
            document.querySelectorAll('.table').forEach((titem, tindex) => {
                if (index === tindex) {
                    document.querySelectorAll('.item')[tindex].className = 'item active'
                    titem.className = 'table active'
                } else {
                    document.querySelectorAll('.item')[tindex].className = 'item'
                    titem.className = 'table'
                }
            })

        })
    })
</script>
<div class="footer" style="text-align:center;">
    <div class="footer-content">
        <div class="foo">
            <span lang="en">© 2019 - 2023 UTX, Inc. All Rights Reserved.</span>
        </div>
    </div>
</div>

</body>

</html>